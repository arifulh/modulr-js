/**
* modulr-js v0.2.1 | 2014-11-25
* AMD Development
* by Helcon Mabesa
* MIT license http://opensource.org/licenses/MIT
**/
!function(a,b){a.Modulr=a.Modulr||b}(window,function(a){function b(a,b){var c=null;return c=k(a)?a.apply(a,b):a}function c(a){var b="string"==typeof a?a.replace(/\s+/gi,""):"";return b.length>0&&"require"!==b&&"define"!==b&&"exports"!==b?!0:!1}function d(){var a=window.location,b=a.pathname.split("/");return b.pop(),b=b.join("/")+"/",a.protocol+"//"+(a.host||a.hostname)+b}function e(a,b){return a=i(a),b=g(b),[a,b].join("/")}function f(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b}function g(a){return a=i(h(a))}function h(a){return"/"===a.charAt(0)?a.slice(1):a}function i(a){return"/"===a.charAt(a.length-1)?a.slice(0,a.length-1):a}function j(a){return"string"==typeof a?!0:!1}function k(a){return"function"==typeof a?!0:!1}function l(a){return a=a||!1,"[object Array]"===Object.prototype.toString.call(a)}function m(a){throw a=[n.prefix,a].join(" "),new Error(a)}var n={};n.prefix="[Modulr]";var o={},p=!1,q=!1;a(function(){p=!0});var r=function(g){function h(a){var b=s[a];return b&&!b.executed&&m("module not yet executed: '"+a+"'"),b?b.exports||b.factory:null}function i(a){g.baseUrl=g.baseUrl||d(),g.instanceDeps?k(g.instanceDeps,function(){u=!0,a()}):(u=!0,a())}function k(a,b){var c=[];for(var d in a)c.push({id:d,path:a[d]});var e=function(){if(0===c.length)b();else{var a=c.shift(),d=(a.path,w.getModulePath(a.path));n(d,function(){e()})}};e()}function n(a,b){var c=!1,d=document.createElement("script");d.setAttribute("data-modulr-context",p),d.type="text/javascript",d.async=!0,d.src=a,d.onload=d.onreadystatechange=function(){c||this.readyState&&"complete"!==this.readyState||(c=!0,b())},document.getElementsByTagName("head")[0].appendChild(d)}g=g||{},g.context=g.context||"_";var p=g.context;o[p]&&m("cannot instantiate multiple contexts: '"+p+"'"),o[p]={instance:this,stack:{}};var s=o[p].stack,t=!1,u=!1;this.version="0.2.1";var v=this;v.getConfig=function(){return g},v.define=function(a,b,d){c(a)||m("invalid id: '"+a+"'."),s[a]||(b=b||[],s[a]={executed:!1,exports:{},deps:b,factory:d})},v.require=function(c,d){if(j(c))return h(c);if(l(c)){var e=function(){w.get(null,c,function(a){b(d,a)})},f=function(){t?e():(t=!0,i(function(){e()}))};q?f():a(function(){f()})}},v.config=function(a){if(a.context){var b=new r(a);return delete b.config,delete b.ready,b}t?m("cannot re-configure Modulr"):g=a},v.ready=function(){q=!0};var w={get:function(a,b,c){var d,e=this,g=[];b?d=f(b):a&&s[a]&&(d=f(s[a].deps));var h=function(){if(0===d.length)c(g);else{var b=d.shift(),f=s[b]||!1;if("require"===b)g.push(v.require),h();else if("define"===b)g.push(v.define),h();else if("exports"===b)g.push(s[a].exports),h();else if(f)f.executed?(g.push(e.getModuleFactory(f)),h()):e.execModule(null,null,b,function(a){g.push(a),h()});else{var i=e.getModulePath(b);n(i,function(){e.execModule("load",i,b,function(a){g.push(a),h()})})}}};h()},execModule:function(a,c,d,e){var f=this,g=s[d];"load"!==a||g||m("loaded file: "+c+" -- does not match definition id: '"+d+"'"),f.get(d,g.deps,function(a){g.executed=!0,g.factory=b(g.factory,a),e(f.getModuleFactory(g))})},getModuleFactory:function(a){return a.exports||a.factory},getModulePath:function(a){var b=g.baseUrl||d(),c=e(b,a)+".js";return c}}};return new r}(function(){var a=function(){function a(a){for(m=1;a=c.shift();)a()}var b,c=[],d=!1,e=document,f=e.documentElement,g=f.doScroll,h="DOMContentLoaded",i="addEventListener",j="onreadystatechange",k="readyState",l=g?/^loaded|^c/:/^loaded|c/,m=l.test(e[k]);return e[i]&&e[i](h,b=function(){e.removeEventListener(h,b,d),a()},d),g&&e.attachEvent(j,b=function(){/^c/.test(e[k])&&(e.detachEvent(j,b),a())}),ready=g?function(a){self!=top?m?a():c.push(a):function(){try{f.doScroll("left")}catch(b){return setTimeout(function(){ready(a)},50)}a()}()}:function(a){m?a():c.push(a)}}();return a}()));