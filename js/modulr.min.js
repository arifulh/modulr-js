/**
* modulr-js v0.3.5 | 2014-12-29
* AMD Development
* by Helcon Mabesa
* MIT license http://opensource.org/licenses/MIT
**/
var Modulr=function(a,b){return a.Modulr||b}(window,function(a){function b(a,b){var c=null;return c="function"==typeof a?a.apply(a,b):a}function c(a){var b="string"==typeof a?a.replace(/\s+/gi,""):"";return b.length>0&&"require"!==b&&"define"!==b&&"exports"!==b?!0:!1}function d(){var a=window.location,b=a.pathname.split("/");return b.pop(),b=b.join("/")+"/",e()+b}function e(){var a=window.location;return a.protocol+"//"+(a.host||a.hostname)}function f(a,b){return a=k(a),b=i(b),[a,b].join("/")}function g(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b}function h(a,b,c,d){a.detachEvent&&!u?d&&a.detachEvent(d,b):a.removeEventListener(c,b,!1)}function i(a){return a=k(j(a))}function j(a){return"/"===a.charAt(0)?a.slice(1):a}function k(a){return"/"===a.charAt(a.length-1)?a.slice(0,a.length-1):a}function l(a){return a=a||!1,"[object Array]"===Object.prototype.toString.call(a)}function m(){var a=arguments;if("string"==typeof a[0]&&(a[0]=[o.prefix,a[0]].join(" ")),window.console&&window.console.log)try{return console.log.apply(console,a)}catch(b){console.log(a)}}function n(a){throw a=[o.prefix,a].join(" "),new Error(a)}var o={};o.prefix="[Modulr]";var p={},q={},r={},s=!1,t=!1;a(function(){s=!0});var u="undefined"!=typeof opera&&"[object Opera]"===opera.toString()?!0:!1,v=/^(complete|loaded)$/,w=function(i){function o(a){var b=null,c="module",d=D(a);return d?"module"===d.type?b=p[d.context].stack[d.id]:"instance"===d.type&&(b=p[d.context].instance,c="instance"):b=I[a],"module"===c&&(b&&!b.executed&&n("module not yet executed: '"+a+"'"),b=b?b.factory||b.exports:null),b}function x(a){i.baseDomain=i.baseDomain||e(),i.baseUrl=i.baseUrl||d();var b=function(){K=!0,y(),a()};E(function(){b()})}function y(){if(q[H])for(var a=p[H].instance,b=0;b<q[H].length;b++){var c=q[H][b];a.define(c.ext.id,c.deps,c.factory)}}function z(a){return I[a]||!1}function A(){return[k(i.baseDomain||e()),j(i.baseUrl||d())].join("/")}function B(a,b){var c=a.split(":"),d=c[0]||!1,e=c[1]||!1;if(d&&e&&p[d]){var f=p[d].instance;p[d].stack[e]?f.execModule(e,function(a){b(a)}):f.require([e],function(){f.execModule(e,function(a){b(a)})})}else m(["Not initialized >> CONTEXT: ",d," | module: ",e].join("")),b(null)}function C(a){return p[a]?p[a].instance:void n("Error getting instance: "+a)}function D(a){var b=a.indexOf(":")>-1?!0:!1,c=a.split(":"),d=c[0]||!1,e=c[1]||!1,f=!1;return b&&("getInstance"===d&&e?f={type:"instance",context:e}:d&&e&&(f={type:"module",context:d,id:e})),f}function E(a){if(i.shim){var b=[];for(var c in i.shim)b.push({id:c,info:i.shim[c]});var d=function(){if(0===b.length)a();else{var c=b.shift(),e=c.id,f=c.info,g=F(f.src),h=f.deps||[],i=function(){L.define(e,h,function(){return window[f.exports]}),d()};window[f.exports]?i():G(g,e,function(){window[f.exports]?i():n("shim export not found for: '"+e+"'")})}};d()}else a()}function F(a){var b=a;return b=0===a.indexOf("//")||0===a.indexOf("http")?a:i.baseDomain+("/"!==a.charAt(0)?"/":"")+a}function G(a,b,c){var d=!1,e=document.createElement("script"),f=function(a){(!d&&"load"===a.type||v.test((a.currentTarget||a.srcElement).readyState))&&(d=!0,c(b),i())},g=function(){n("error loading script: "+a)},i=function(){h(e,f,"load","onreadystatechange"),h(e,g,"error")};b&&e.setAttribute("data-modulr-module",b),e.setAttribute("data-modulr-context",H);var j=[H||"",b||"",a].join(":");return r[j]?!1:(r[j]=!0,e.type="text/javascript",e.charset="utf-8",e.async=!0,!e.attachEvent||e.attachEvent.toString&&e.attachEvent.toString().indexOf("[native code")<0||u?(e.addEventListener("load",f,!1),e.addEventListener("error",g,!1)):e.attachEvent("onreadystatechange",f),e.src=a,void document.getElementsByTagName("head")[0].appendChild(e))}i=i||{},i.context=i.context||"_",i.wait="boolean"==typeof i.wait?i.wait:!0;var H=i.context;p[H]&&n("cannot instantiate multiple contexts: '"+H+"'"),p[H]={instance:this,stack:{}};var I=p[H].stack,J=!1,K=!1,L=this;L.version="0.3.5",L.getConfig=function(){return i},L.getInstance=function(a){return p[a]?p[a].instance:null},L.define=function(a,b,d){c(a)||n("invalid id: '"+a+"'.");var e=D(a);if(e)if(p[e.context]){var f=p[e.context].instance;f.define(e.id,b,d)}else q[e.context]||(q[e.context]=[]),q[e.context].push({ext:e,deps:b,factory:d});else I[a]||(b=b||[],I[a]={executed:!1,exports:{},deps:b,factory:d})},L.require=function(c,d){if("string"==typeof c)return o(c);if(l(c)){var e=function(){M.get(null,c,function(a){b(d,a)})},f=function(){J?e():(J=!0,x(function(){e()}))};i.wait?t||s?f():a(function(){f()}):f()}},L.config=function(a){if(a.context){var b=new w(a);return delete b.config,delete b.ready,delete b.getInstance,b}J?n("cannot re-configure Modulr"):i=a},L.ready=function(){t=!0},L.execModule=function(a,b){var c=z(a);return"function"!=typeof b?!1:void(c?c.executed?b(M.getModuleFactory(c)):M.execModule(null,null,a,function(a){b(a)}):b(null))};var M=function(){var a=function(){};return a.prototype.get=function(a,b,c){var d,e=this,f=[];b?d=g(b):a&&I[a]&&(d=g(I[a].deps));var h=function(){if(0===d.length)c(f);else{var b=d.shift(),g=z(b),i=D(b);if(i)"module"===i.type?B(b,function(a){f.push(a||null),h()}):"instance"===i.type&&(f.push(C(i.context)),h());else if("require"===b)f.push(L.require),h();else if("define"===b)f.push(L.define),h();else if("exports"===b)f.push(I[a].exports),h();else if(g)g.executed?(f.push(e.getModuleFactory(g)),h()):e.execModule(null,null,b,function(a){f.push(a),h()});else{var j=e.getModulePath(b);G(j,b,function(){e.execModule("load",j,b,function(a){f.push(a),h()})})}}};h()},a.prototype.execModule=function(a,c,d,e){var f=this,g=z(d);g?g.executed?e(f.getModuleFactory(g)):(f._execQueue||(f._execQueue={}),f._execQueue[d]||(f._execQueue[d]=[]),g.executing?f._execQueue[d].push(e):(g.executing=!0,f._execQueue[d].push(e),f.get(d,g.deps,function(a){g.factory=b(g.factory,a),g.executed=!0,g.executing=!1,f.runCallbackQueue(d,f.getModuleFactory(g))}))):(m("loading external source: "+c),e({id:d,src:c,type:"external-script"}))},a.prototype.runCallbackQueue=function(a,b){for(var c=this,d=c._execQueue[a]||[];d.length>0;){var e=d.shift();e(b)}},a.prototype.getModuleFactory=function(a){return a.factory||a.exports},a.prototype.getModulePath=function(a){var b=A(),c=f(b,a)+".js";return c},new a}()};return new w}(function(){var a=function(){function a(a){for(m=1;a=c.shift();)a()}var b,c=[],d=!1,e=document,f=e.documentElement,g=f.doScroll,h="DOMContentLoaded",i="addEventListener",j="onreadystatechange",k="readyState",l=g?/^loaded|^c/:/^loaded|c/,m=l.test(e[k]);return e[i]&&e[i](h,b=function(){e.removeEventListener(h,b,d),a()},d),g&&e.attachEvent(j,b=function(){/^c/.test(e[k])&&(e.detachEvent(j,b),a())}),ready=g?function(a){self!=top?m?a():c.push(a):function(){try{f.doScroll("left")}catch(b){return setTimeout(function(){ready(a)},50)}a()}()}:function(a){m?a():c.push(a)}}();return a}()));