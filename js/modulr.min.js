/**
* modulr-js v0.1.1 | 2014-11-20
* AMD Development
* by Helcon Mabesa
* MIT license http://opensource.org/licenses/MIT
**/
!function(a,b){a.Modulr=b}(window,function(a,b){function c(a,b){var c=null;return c=j(a)?a.apply(a,b):a}function d(a){var b="string"==typeof a?a.replace(/\s+/gi,""):"";return b.length>0&&"require"!==b&&"define"!==b&&"exports"!==b&&-1===b.indexOf("**")?!0:!1}function e(){var a=window.location,b=a.pathname.split("/");return b.pop(),b=b.join("/")+"/",a.protocol+"//"+(a.host||a.hostname)+b}function f(a,b){return a=i(a),b=g(b),[a,b].join("/")}function g(a){return a=i(h(a))}function h(a){return"/"===a.charAt(0)?a.slice(1):a}function i(a){return"/"===a.charAt(a.length-1)?a.slice(0,a.length-1):a}function j(a){return"function"==typeof a?!0:!1}function k(a){return"object"!=typeof a||l(a)?!1:!0}function l(a){return a=a||!1,"[object Array]"===Object.prototype.toString.call(a)}function m(){var a=arguments;if("string"==typeof a[0]&&(a[0]=[o.prefix,a[0]].join(" ")),window.console&&window.console.log)try{return console.log.apply(console,a)}catch(b){console.log(a)}}function n(a){throw a=[o.prefix,a].join(" "),new Error(a)}var o={};o.prefix="[Modulr]";var p={},q=!1,r=!1;a(function(){q=!0});var s=function(g){function h(){g.baseUrl=g.baseUrl||e(),g.instanceDeps?v(g.instanceDeps,function(){A=!0}):A=!0}function i(a){var b=null;if(l(a))q(a);else if(y[a]){{var d=y[a];d.factory}if(!d.executed){d.executed=!0;var e=o(a,d.deps);y[a].factory=c(d.factory,e)}b=y[a]}return b}function o(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d];l(e)?c.push(q(e,a)):"string"==typeof e?c=u(c,e,a):(m("dependency:"),m(e),n("invalid dependency"))}return c}function q(a,b){for(var c={},d=0;d<a.length;d++){var e=a[d];"string"==typeof e?c=u(c,e,b):(m("dependency:"),m(e),n("invalid dependency"))}return c}function t(a,b){var c=[],d=a.replace("**","");for(var e in y)0===e.indexOf(d)&&c.push(e);var f=q(c,b);return y[a]={executed:!0,exports:{},deps:[],factory:f},f}function u(a,b,c){return l(a)?a.push("define"===b?B.define:"require"===b?B.require:"exports"===b?y[c].exports:y[b]?i(b).factory:isSelector(b)?t(b,c):null):k(a)&&(a[b]="define"===b?B.define:"require"===b?B.require:"exports"===b?y[c].exports:y[b]?i(b).factory:null),a}function v(a,c){var d=[];for(var e in a)d.push(a[e]);var h=!0;b(function(){var a=d.length;return h&&a>0&&(h=!0,w(f(g.baseUrl,d.shift())+".js",function(){h=!0})),0===a?!0:!1},function(){c()})}function w(a,b){var c=!1,d=document.createElement("script");d.setAttribute("data-modulr-context",x),d.type="text/javascript",d.async=!0,d.src=a,d.onload=d.onreadystatechange=function(){c||this.readyState&&"complete"!==this.readyState||(c=!0,b())},document.getElementsByTagName("head")[0].appendChild(d)}g=g||{},g.context=g.context||"Modulr";var x=g.context;p[x]&&n("cannot instantiate multiple contexts: '"+x+"'"),p[x]={instance:this,stack:{}};var y=p[x].stack,z=!1,A=!1;this.version="0.1.1";var B=this;B.config=function(a){g=a},B.getConfig=function(){return g},B.define=function(a,b,c){d(a)||n("invalid id: '"+a+"'."),y[a]||(b=b||[],y[a]={executed:!1,exports:{},deps:b,factory:c})},B.require=function(c,d){z||(z=!0,h());var e=function(){var a=null,b=i(c);return b&&(a=b.exports||b.factory),a},f=function(){var a=e();return l(c)?void(j(d)&&d()):a};return A?f():void a(function(){b(function(){return A},function(){f()})})},B.instantiate=function(a){a.context||n("instantiation requires a context!");var b=new s(a);return delete b.instantiate,b},B.ready=function(){r=!0}};return new s}(function(){var a=function(){function a(a){for(m=1;a=c.shift();)a()}var b,c=[],d=!1,e=document,f=e.documentElement,g=f.doScroll,h="DOMContentLoaded",i="addEventListener",j="onreadystatechange",k="readyState",l=g?/^loaded|^c/:/^loaded|c/,m=l.test(e[k]);return e[i]&&e[i](h,b=function(){e.removeEventListener(h,b,d),a()},d),g&&e.attachEvent(j,b=function(){/^c/.test(e[k])&&(e.detachEvent(j,b),a())}),ready=g?function(a){self!=top?m?a():c.push(a):function(){try{f.doScroll("left")}catch(b){return setTimeout(function(){ready(a)},50)}a()}()}:function(a){m?a():c.push(a)}}();return a}(),function(){var a=function(){function a(a){return"number"==typeof a?!0:!1}function b(a){return"function"==typeof a?!0:!1}var c={attempts:999,timeout:500},d=arguments,e=!1;a(d[0])&&a(d[1])&&b(d[2])&&b(d[3])?e={attempts:d[0],timeout:d[1],check:d[2],success:d[3],expires:b(d[4])?d[4]:!1}:a(d[0])&&b(d[1])&&b(d[2])?e={attempts:d[0],timeout:c.timeout,check:d[1],success:d[2],expires:b(d[3])?d[3]:!1}:b(d[0])&&b(d[1])&&(e={attempts:c.attempts,timeout:c.timeout,check:d[0],success:d[1],expires:b(d[2])?d[2]:!1});var f,g=!1,h=function(){g?(clearTimeout(f),e.expires("aborted")):e.check()?(e.success(),clearTimeout(f)):e.attempts>0?f=setTimeout(function(){h()},e.timeout):e.expires("expired"),e.attempts--};return h(),{abort:function(){g=!0}}};return a}()));