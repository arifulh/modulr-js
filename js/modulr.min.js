/**
* modulr-js v0.1.1 | 2014-11-20
* AMD Development
* by Helcon Mabesa
* MIT license http://opensource.org/licenses/MIT
**/
!function(a,b){a.Modulr=b}(window,function(a,b){function c(a,b){var c=null;return c=k(a)?a.apply(a,b):a}function d(a){var b="string"==typeof a?a.replace(/\s+/gi,""):"";return b.length>0&&"require"!==b&&"define"!==b&&"exports"!==b&&-1===b.indexOf("**")?!0:!1}function e(a){return"string"==typeof a&&a.indexOf("**")>-1?!0:!1}function f(){var a=window.location,b=a.pathname.split("/");return b.pop(),b=b.join("/")+"/",a.protocol+"//"+(a.host||a.hostname)+b}function g(a,b){return a=j(a),b=h(b),[a,b].join("/")}function h(a){return a=j(i(a))}function i(a){return"/"===a.charAt(0)?a.slice(1):a}function j(a){return"/"===a.charAt(a.length-1)?a.slice(0,a.length-1):a}function k(a){return"function"==typeof a?!0:!1}function l(a){return"object"!=typeof a||m(a)?!1:!0}function m(a){return a=a||!1,"[object Array]"===Object.prototype.toString.call(a)}function n(){var a=arguments;if("string"==typeof a[0]&&(a[0]=[p.prefix,a[0]].join(" ")),window.console&&window.console.log)try{return console.log.apply(console,a)}catch(b){console.log(a)}}function o(a){throw a=[p.prefix,a].join(" "),new Error(a)}var p={};p.prefix="[Modulr]";var q={},r=!1,s=!1;a(function(){r=!0});var t=function(h){function i(){h.baseUrl=h.baseUrl||f(),h.instanceDeps?w(h.instanceDeps,function(){B=!0}):B=!0}function j(a){var b=null;if(m(a))r(a);else if(z[a]){{var d=z[a];d.factory}if(!d.executed){d.executed=!0;var e=p(a,d.deps);z[a].factory=c(d.factory,e)}b=z[a]}return b}function p(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d];m(e)?c.push(r(e,a)):"string"==typeof e?c=v(c,e,a):(n("dependency:"),n(e),o("invalid dependency"))}return c}function r(a,b){for(var c={},d=0;d<a.length;d++){var e=a[d];"string"==typeof e?c=v(c,e,b):(n("dependency:"),n(e),o("invalid dependency"))}return c}function u(a,b){var c=[],d=a.replace("**","");for(var e in z)0===e.indexOf(d)&&c.push(e);var f=r(c,b);return z[a]={executed:!0,exports:{},deps:[],factory:f},f}function v(a,b,c){return m(a)?a.push("define"===b?C.define:"require"===b?C.require:"exports"===b?z[c].exports:z[b]?j(b).factory:e(b)?u(b,c):null):l(a)&&(a[b]="define"===b?C.define:"require"===b?C.require:"exports"===b?z[c].exports:z[b]?j(b).factory:null),a}function w(a,c){var d=[];for(var e in a)d.push(a[e]);var f=!0;b(function(){var a=d.length;return f&&a>0&&(f=!0,x(g(h.baseUrl,d.shift())+".js",function(){f=!0})),0===a?!0:!1},function(){c()})}function x(a,b){var c=!1,d=document.createElement("script");d.setAttribute("data-modulr-context",y),d.type="text/javascript",d.async=!0,d.src=a,d.onload=d.onreadystatechange=function(){c||this.readyState&&"complete"!==this.readyState||(c=!0,b())},document.getElementsByTagName("head")[0].appendChild(d)}h=h||{},h.context=h.context||"Modulr";var y=h.context;q[y]&&o("cannot instantiate multiple contexts: '"+y+"'"),q[y]={instance:this,stack:{}};var z=q[y].stack,A=!1,B=!1;this.version="0.1.1";var C=this;C.config=function(a){h=a},C.getConfig=function(){return h},C.define=function(a,b,c){d(a)||o("invalid id: '"+a+"'."),z[a]||(b=b||[],z[a]={executed:!1,exports:{},deps:b,factory:c})},C.require=function(c,d){A||(A=!0,i());var e=function(){var a=null,b=j(c);return b&&(a=b.exports||b.factory),a},f=function(){var a=e();return m(c)?void(k(d)&&d()):a};return B?f():void a(function(){b(function(){return B},function(){f()})})},C.instantiate=function(a){a.context||o("instantiation requires a context!");var b=new t(a);return delete b.instantiate,b},C.ready=function(){s=!0}};return new t}(function(){var a=function(){function a(a){for(m=1;a=c.shift();)a()}var b,c=[],d=!1,e=document,f=e.documentElement,g=f.doScroll,h="DOMContentLoaded",i="addEventListener",j="onreadystatechange",k="readyState",l=g?/^loaded|^c/:/^loaded|c/,m=l.test(e[k]);return e[i]&&e[i](h,b=function(){e.removeEventListener(h,b,d),a()},d),g&&e.attachEvent(j,b=function(){/^c/.test(e[k])&&(e.detachEvent(j,b),a())}),ready=g?function(a){self!=top?m?a():c.push(a):function(){try{f.doScroll("left")}catch(b){return setTimeout(function(){ready(a)},50)}a()}()}:function(a){m?a():c.push(a)}}();return a}(),function(){var a=function(){function a(a){return"number"==typeof a?!0:!1}function b(a){return"function"==typeof a?!0:!1}var c={attempts:999,timeout:50},d=arguments,e=!1;a(d[0])&&a(d[1])&&b(d[2])&&b(d[3])?e={attempts:d[0],timeout:d[1],check:d[2],success:d[3],expires:b(d[4])?d[4]:!1}:a(d[0])&&b(d[1])&&b(d[2])?e={attempts:d[0],timeout:c.timeout,check:d[1],success:d[2],expires:b(d[3])?d[3]:!1}:b(d[0])&&b(d[1])&&(e={attempts:c.attempts,timeout:c.timeout,check:d[0],success:d[1],expires:b(d[2])?d[2]:!1});var f,g=!1,h=function(){g?(clearTimeout(f),e.expires("aborted")):e.check()?(e.success(),clearTimeout(f)):e.attempts>0?f=setTimeout(function(){h()},e.timeout):e.expires("expired"),e.attempts--};return h(),{abort:function(){g=!0}}};return a}()));